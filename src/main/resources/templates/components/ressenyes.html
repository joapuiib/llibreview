<!--/*@thymesVar id="valoracio" type="com.fpmislata.daw1.projectedaw1.domain.entity.Valoracio"*/-->
<div th:fragment="ressenya(valoracio)" class="p-3" th:with="ressenya = ${valoracio.ressenya}, is_owner=${session.user != null and session.user == valoracio.usuari}" th:classappend="${false} ? 'bg-info bg-opacity-25'">
    <div class="d-flex justify-content-between">
        <div>
            <p class="ressenya-title h6"><i class="fa-solid fa-circle-user"></i> <span th:text="${valoracio.usuari.username}"></span></p>
            <p class="ressenya-data" th:text="${#temporals.format(ressenya.data, 'dd/MM/yyyy')}"></p>
        </div>
        <div class="d-flex flex-column align-items-end">
            <div th:replace="~{components/valoracio :: valoracio-stars(valoracio=${valoracio.valoracio})}"></div>
            <div class="valoracio-value bg-cafe-500 fw-bold rounded-3 mt-2" th:text="${valoracio.valoracio}"></div>
        </div>
    </div>
    <p class="mt-2" th:text="${ressenya.comentari}"></p>
</div>

<div th:fragment="ressenyes-destacades(valoracions)" class="ressenyes-container mt-4">
    <p class="h5">Ressenyes destacades</p>
    <div th:each="valoracio: ${valoracions}" th:remove="tag">
        <div th:replace="~{components/ressenyes :: ressenya(valoracio=${valoracio})}" class="mt-3"></div>
        <hr class="my-0 cafe-500 opacity-50">
    </div>
    <div class="text-center mt-2" th:if="${valoracions.size() > 2}">
        <a class="text-decoration-none fw-bold" href="">Veure totes les ressenyes</a>
    </div>
</div>

<div th:fragment="ressenya-usuari(valoracio)" class="">
    <p class="h5">La teua ressenya</p>
    <div th:unless="${valoracio == null}" th:remove="tag">
        <div th:replace="~{components/ressenyes :: ressenya(valoracio=${valoracio})}" class="mt-3"></div>
    </div>
</div>